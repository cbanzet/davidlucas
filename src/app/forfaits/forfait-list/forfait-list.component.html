<ng-template #loading>				
  <br><br>
  <mat-spinner color="warn"></mat-spinner>
  <br><br>
</ng-template>
          
                    
<mat-card *ngIf="forfaits | async; let forfaits; else loading">
  <mat-card-header class="example-full-width">
    <mat-card-title>Forfaits</mat-card-title>
    <mat-card-subtitle>Liste des Forfaits propos√©s au Salon</mat-card-subtitle>
    <button mat-fab routerLink="./../forfaitform" type="button" color="black">
      <mat-icon>add</mat-icon>
    </button>
    <button mat-fab routerLink="./../calendar" type="button" color="black">
      <mat-icon>today</mat-icon>
    </button>					
  </mat-card-header>

  <mat-card-content>
    <br>
    <mat-list dense>
      <mat-list-item *ngFor="let forfait of forfaits ">
        <mat-icon matListIcon>local_offer</mat-icon>
          
        <mat-form-field class="field-title" >
          <input matInput placeholder="title" type="text"
            [(ngModel)]="forfait.title"
            (ngModelChange)=updateField(forfait,titleField,forfait.title)>
          <!-- <mat-hint align="end">{{forfait.title.length}} / 2</mat-hint> -->
        </mat-form-field>

        <mat-form-field class="field-price">
          <input matInput maxlength="3" placeholder="time"  type="number"
            [(ngModel)]="forfait.time"
            (ngModelChange)=updateField(forfait,timeField,forfait.time)>
            <mat-icon matSuffix>access_time</mat-icon>
        </mat-form-field>

        <mat-form-field class="field-price">
            <input matInput maxlength="3" placeholder="price" type="number"
              [(ngModel)]="forfait.price"
              (ngModelChange)=updateField(forfait,priceField,forfait.price)>
              <mat-icon matSuffix>euro_symbol</mat-icon>
            <!-- <mat-hint align="end">{{forfait.price.length}} / 2</mat-hint> -->
        </mat-form-field>

        <!-- {{forfait | json}} -->
          
        <mat-chip-list *ngIf="forfait.prestations" class="ml-10">
            <mat-chip *ngFor="let prestation of forfait.prestations ">
              {{prestation.title}}
            </mat-chip>
           
        </mat-chip-list>
         
          <!--
          <button mat-icon-button
            [routerLink]="['./../forfait', forfait.$key]">
             <mat-icon>info</mat-icon>
          </button>
          -->
          <button mat-icon-button
              (click)=" deleteForfait(forfait)">
              <mat-icon>remove_circle</mat-icon>
          </button>

      </mat-list-item>
   
    </mat-list>
  </mat-card-content>
</mat-card>
        